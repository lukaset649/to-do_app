<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List</title>
    <link rel="stylesheet" href="/styles/styles.css">
</head>
<body>
    <section class="container">
        <header>
            <img src="/assets/icons/to_do_list_icon.png" alt="icon of to-do list">
            <h1>Lista To-Do</h1>
        </header>
        <form id="taskForm">
            <input type="text" name="task" id="taskInput" required placeholder="Dodaj zadanie">
            <button type="submit">Dodaj</button>
        </form>
        <!-- kod EJS iterujący po każdym elemencie tablicy tasks i dla każdego dodaje kod html -->
        <ul id="taskList">
            <% tasks.forEach(function(task) { %>
                <!-- Sprawdź, czy task.name jest dostępne -->
                <li id="task-<%= task._id %>">
                    <%= task.name || "Brak nazwy" %> <!-- Dodajemy domyślną wartość w razie braku name -->
                    <button onclick="deleteTask('<%= task._id %>', this)">Usuń</button>
                </li>
            <% }); %>
        </ul>
        
    </section>
    <!-- Skrypt do obsługi formularza za pomocą Fetch API-->
    <script src="/js/fetch.js"></script>
</body>
</html>
